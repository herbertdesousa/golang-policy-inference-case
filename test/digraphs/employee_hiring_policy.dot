digraph EmployeeHiringPolicy {
  start [result=""]

  # Level 1: Role Classification & Authorization Check
  role_entry
  role_mid
  role_senior
  role_executive
  role_contractor
  reject_req_not_approved [result="hired=false,reason=requisition_not_approved"]
  reject_headcount_freeze  [result="hired=false,reason=headcount_freeze_active"]

  start -> reject_headcount_freeze      [cond="headcount_freeze == true && exception_approved == false"]
  start -> reject_req_not_approved      [cond="headcount_freeze == false && requisition_approved == false"]
  start -> role_contractor              [cond="requisition_approved == true && employment_type == 'contractor' && contract_vendor_approved == true"]
  start -> role_entry                   [cond="requisition_approved == true && employment_type == 'full_time' && seniority_band <= 2"]
  start -> role_mid                     [cond="requisition_approved == true && employment_type == 'full_time' && seniority_band >= 3 && seniority_band <= 5"]
  start -> role_senior                  [cond="requisition_approved == true && employment_type == 'full_time' && seniority_band >= 6 && seniority_band <= 8"]
  start -> role_executive               [cond="requisition_approved == true && employment_type == 'full_time' && seniority_band >= 9"]

  # Level 2: Application Completeness & Eligibility Screen
  app_complete
  app_partial
  app_reject [result="hired=false,reason=incomplete_or_ineligible_application"]

  role_entry -> app_complete            [cond="resume_submitted == true && cover_letter == true && work_authorization == true && age >= 18"]
  role_entry -> app_partial             [cond="resume_submitted == true && cover_letter == false && work_authorization == true && age >= 18"]
  role_entry -> app_reject              [cond="resume_submitted == false || work_authorization == false || age < 18"]

  role_mid -> app_complete              [cond="resume_submitted == true && portfolio_or_samples == true && work_authorization == true && years_experience >= 3"]
  role_mid -> app_partial               [cond="resume_submitted == true && portfolio_or_samples == false && work_authorization == true && years_experience >= 2"]
  role_mid -> app_reject                [cond="resume_submitted == false || work_authorization == false || years_experience < 2"]

  role_senior -> app_complete           [cond="resume_submitted == true && references_provided >= 2 && work_authorization == true && years_experience >= 7"]
  role_senior -> app_partial            [cond="resume_submitted == true && references_provided >= 1 && work_authorization == true && years_experience >= 5"]
  role_senior -> app_reject             [cond="resume_submitted == false || work_authorization == false || years_experience < 5"]

  role_executive -> app_complete        [cond="resume_submitted == true && references_provided >= 3 && board_intro_complete == true && years_experience >= 12"]
  role_executive -> app_partial         [cond="resume_submitted == true && references_provided >= 2 && years_experience >= 10"]
  role_executive -> app_reject          [cond="years_experience < 10 || references_provided < 2"]

  role_contractor -> app_complete       [cond="resume_submitted == true && vendor_contract_signed == true && work_authorization == true"]
  role_contractor -> app_reject         [cond="vendor_contract_signed == false || work_authorization == false"]

  # Level 3: Skills Assessment & Technical Screen
  skills_strong
  skills_adequate
  skills_weak
  skills_disqualify [result="hired=false,reason=critical_skill_gap"]

  app_complete -> skills_strong         [cond="technical_score >= 85 && domain_expertise_match >= 80 && certifications_required == 0"]
  app_complete -> skills_strong         [cond="technical_score >= 80 && domain_expertise_match >= 75 && certifications_held >= certifications_required"]
  app_complete -> skills_adequate       [cond="technical_score >= 65 && technical_score < 80 && domain_expertise_match >= 60"]
  app_complete -> skills_weak           [cond="technical_score >= 50 && technical_score < 65 && domain_expertise_match >= 50"]
  app_complete -> skills_disqualify     [cond="technical_score < 50 || domain_expertise_match < 50"]

  app_partial -> skills_strong          [cond="technical_score >= 90 && domain_expertise_match >= 85"]
  app_partial -> skills_adequate        [cond="technical_score >= 70 && technical_score < 90 && domain_expertise_match >= 65"]
  app_partial -> skills_weak            [cond="technical_score >= 55 && technical_score < 70"]
  app_partial -> skills_disqualify      [cond="technical_score < 55"]

  # Level 4: Cultural Fit & Behavioral Interview
  culture_excellent
  culture_good
  culture_concern
  culture_reject [result="hired=false,reason=behavioral_interview_failed"]

  skills_strong -> culture_excellent    [cond="behavioral_score >= 90 && collaboration_rating >= 85 && values_alignment_score >= 80"]
  skills_strong -> culture_good         [cond="behavioral_score >= 75 && behavioral_score < 90 && collaboration_rating >= 70"]
  skills_strong -> culture_concern      [cond="behavioral_score >= 60 && behavioral_score < 75"]
  skills_strong -> culture_reject       [cond="behavioral_score < 60 || values_alignment_score < 50"]

  skills_adequate -> culture_excellent  [cond="behavioral_score >= 90 && collaboration_rating >= 90 && values_alignment_score >= 85"]
  skills_adequate -> culture_good       [cond="behavioral_score >= 78 && behavioral_score < 90 && collaboration_rating >= 75"]
  skills_adequate -> culture_concern    [cond="behavioral_score >= 65 && behavioral_score < 78"]
  skills_adequate -> culture_reject     [cond="behavioral_score < 65"]

  skills_weak -> culture_excellent      [cond="behavioral_score >= 95 && collaboration_rating >= 95"]
  skills_weak -> culture_good           [cond="behavioral_score >= 80 && behavioral_score < 95 && collaboration_rating >= 80"]
  skills_weak -> culture_reject         [cond="behavioral_score < 80"]

  # Level 5: Background Check & Reference Verification
  bg_clear
  bg_minor_flag
  bg_major_flag
  bg_disqualify [result="hired=false,reason=background_check_disqualifying"]

  culture_excellent -> bg_clear         [cond="criminal_record == false && employment_gaps_explained == true && reference_check_passed == true && education_verified == true"]
  culture_excellent -> bg_minor_flag    [cond="criminal_record == false && (employment_gaps_explained == false || reference_check_passed == false) && education_verified == true"]
  culture_excellent -> bg_major_flag    [cond="criminal_record == true && offense_type IN ['minor','misdemeanor'] && years_since_offense >= 7"]
  culture_excellent -> bg_disqualify    [cond="criminal_record == true && offense_type IN ['felony','fraud','violence'] || education_falsified == true"]

  culture_good -> bg_clear              [cond="criminal_record == false && reference_check_passed == true && employment_gaps_explained == true && education_verified == true"]
  culture_good -> bg_minor_flag         [cond="criminal_record == false && (reference_check_passed == false || employment_gaps_explained == false)"]
  culture_good -> bg_major_flag         [cond="criminal_record == true && offense_type == 'minor' && years_since_offense >= 10"]
  culture_good -> bg_disqualify         [cond="criminal_record == true && offense_type IN ['felony','fraud'] || education_falsified == true"]

  culture_concern -> bg_clear           [cond="criminal_record == false && reference_check_passed == true && education_verified == true && no_prior_terminations == true"]
  culture_concern -> bg_minor_flag      [cond="criminal_record == false && (reference_check_passed == false || no_prior_terminations == false)"]
  culture_concern -> bg_disqualify      [cond="criminal_record == true || education_falsified == true"]

  # Level 6: Compensation Negotiation & Offer Budget
  offer_within_band
  offer_exception
  offer_reject_comp [result="hired=false,reason=candidate_comp_expectation_exceeds_max_band"]

  bg_clear -> offer_within_band         [cond="candidate_salary_expectation <= role_salary_max && candidate_salary_expectation >= role_salary_min"]
  bg_clear -> offer_exception           [cond="candidate_salary_expectation > role_salary_max && candidate_salary_expectation <= role_salary_max * 1.15 && exceptional_talent_flag == true"]
  bg_clear -> offer_reject_comp         [cond="candidate_salary_expectation > role_salary_max * 1.15"]

  bg_minor_flag -> offer_within_band    [cond="candidate_salary_expectation <= role_salary_max * 0.95 && candidate_salary_expectation >= role_salary_min"]
  bg_minor_flag -> offer_exception      [cond="candidate_salary_expectation > role_salary_max * 0.95 && candidate_salary_expectation <= role_salary_max && exceptional_talent_flag == true"]
  bg_minor_flag -> offer_reject_comp    [cond="candidate_salary_expectation > role_salary_max"]

  bg_major_flag -> offer_within_band    [cond="candidate_salary_expectation <= role_salary_min * 1.1 && vp_override == true"]
  bg_major_flag -> offer_reject_comp    [cond="candidate_salary_expectation > role_salary_min * 1.1 || vp_override == false"]

  # Level 7: Final Hiring Decision & Onboarding Track
  hire_fast_track   [result="hired=true,track=fast_track,start_date=immediate,probation_days=0,signing_bonus=true"]
  hire_standard     [result="hired=true,track=standard,start_date=negotiated,probation_days=90,signing_bonus=false"]
  hire_probation    [result="hired=true,track=extended_probation,start_date=negotiated,probation_days=180,signing_bonus=false"]
  hire_conditional  [result="hired=conditional,track=conditional,conditions=additional_clearance,probation_days=180"]
  hire_contractor   [result="hired=true,track=contractor,contract_term_months=6,renewal=possible"]

  offer_within_band -> hire_fast_track  [cond="culture_profile == 'excellent' && skills_profile == 'strong' && seniority_band >= 6"]
  offer_within_band -> hire_standard    [cond="culture_profile == 'good' && skills_profile IN ['strong','adequate']"]
  offer_within_band -> hire_standard    [cond="culture_profile == 'excellent' && skills_profile == 'adequate'"]
  offer_within_band -> hire_probation   [cond="culture_profile == 'concern' || skills_profile == 'weak'"]
  offer_within_band -> hire_contractor  [cond="employment_type == 'contractor'"]

  offer_exception -> hire_fast_track    [cond="exceptional_talent_flag == true && skills_profile == 'strong' && ceo_approval == true"]
  offer_exception -> hire_standard      [cond="exceptional_talent_flag == true && vp_approval == true && ceo_approval == false"]
  offer_exception -> hire_conditional   [cond="vp_approval == false"]
}
